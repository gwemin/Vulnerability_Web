import React from 'react';
import Box from '@material-ui/core/Box';
import Collapse from '@material-ui/core/Collapse';
import IconButton from '@material-ui/core/IconButton';
import TableCell from '@material-ui/core/TableCell';
import TableRow from '@material-ui/core/TableRow';
import KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';
import KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';
import BarChart from 'pages/BarChart'
import { makeStyles } from '@material-ui/core';

const useRowStyles = makeStyles({
    root: {
      '& > *': {
        borderBottom: 'unset',
      },
    },
  });

  // 키값 새로 설정해야한다.
function UserInfoTable(props) {
    const data = props.data;
    const key  = props.key;
    const [open, setOpen] = React.useState(false);
    const classes = useRowStyles();
    console.log(data)
    return (
      <React.Fragment>
        <TableRow className={classes.root}>
            <TableCell>
                <IconButton aria-label="expand row" size="small" onClick={() => setOpen(!open)}>
                {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}
            </IconButton>
            </TableCell>
            <TableCell align="center">{data.date}</TableCell>
            <TableCell align="center">{data.total}</TableCell>
            <TableCell align="center">{data.Good}</TableCell>
            <TableCell align="center">{data.Vulnerable}</TableCell>
            <TableCell align="center">{data.NA}</TableCell>
            <TableCell align="center">{data.Probability}</TableCell>
        </TableRow>
        <TableRow>
          <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>
            <Collapse in={open} timeout="auto" unmountOnExit>
              <Box margin={1}>
                
                <BarChart result={data} />
              </Box>
            </Collapse>
          </TableCell>
        </TableRow>
      </React.Fragment>
    );
  }

export default UserInfoTable;
